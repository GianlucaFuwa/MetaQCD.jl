<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Creating Gaugefields · MetaQCD.jl</title><meta name="title" content="Creating Gaugefields · MetaQCD.jl"/><meta property="og:title" content="Creating Gaugefields · MetaQCD.jl"/><meta property="twitter:title" content="Creating Gaugefields · MetaQCD.jl"/><meta name="description" content="Documentation for MetaQCD.jl."/><meta property="og:description" content="Documentation for MetaQCD.jl."/><meta property="twitter:description" content="Documentation for MetaQCD.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">MetaQCD.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">MetaQCD.jl: Metadynamics in Lattice QCD</a></li><li><a class="tocitem" href="../usage/">Usage</a></li><li class="is-active"><a class="tocitem" href>Creating Gaugefields</a></li><li><a class="tocitem" href="../updates/">Updating a Gaugefield</a></li><li><a class="tocitem" href="../dirac/">Dirac Operators</a></li><li><a class="tocitem" href="../biased_sampling/">Biased Sampling Methods</a></li><li><a class="tocitem" href="../viz/">Visualization</a></li><li><a class="tocitem" href="../parameters/">Parameters</a></li><li><a class="tocitem" href="../utils/">Utility Functions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Creating Gaugefields</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Creating Gaugefields</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/GianlucaFuwa/MetaQCD.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/GianlucaFuwa/MetaQCD.jl/blob/main/docs/src/gaugefields.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Creating-Fields-on-the-lattice"><a class="docs-heading-anchor" href="#Creating-Fields-on-the-lattice">Creating Fields on the lattice</a><a id="Creating-Fields-on-the-lattice-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-Fields-on-the-lattice" title="Permalink"></a></h1><p>You can create a 4-dimensional SU(3) gauge field by specifying the backend, floating point precision, gauge action, dimensions and coupling parameter beta:</p><pre><code class="language-julia hljs">backend = CPU
prec = Float64
action = WilsonGaugeAction
Ns = Nt = 12
beta = 6.0
U = Gaugefield{backend,prec,action}(Ns, Ns, Ns, Nt, beta) # all links are set to 0</code></pre><p>and set the initial conditions with <code>identity_gauges!(U)</code> (cold) or <code>random_gauges!(U)</code> (hot).</p><p><code>Gaugefield</code>s, <code>Colorfield</code>s and <code>Expfield</code>s are structs that contain a main Array <code>U</code>, which is a 5-dimensional array of statically sized 3x3 complex matrices, i.e., <code>SMatrix</code> objects from <code>StaticArrays.jl</code> (where arrays are stored as Tuples under the hood).</p><p>The fact that the elements are statically sized immutable arrays means that, for one, there are no allocations when performing linear algebra operations with them and secondly that we always just override the matrices in the arrays instead of mutating them. This yields enormous benefits in terms of less headaches during development and lets us define custom linear algebra routines for SMatrices and SVectors.</p><p>The different backends are handled by <code>Kernelabstractions.jl</code>.</p><p>There are no plans to use more memory efficient storage schemes for SU(3) or su(3) elements yet.</p><p>Fermion fields or spinors or whatever you want to call them are stored in 4-dimensional  arrays of <code>n_color * n_dirac</code> complex valued <code>SVector</code>s. The reason for chosing 4 instead of 5 dimensions is that this enabled us to write routines that take care of all dirac components at the same time, which is more efficient (I think).</p><p>When using even-odd preconditioned dirac operators, the fermion fields get wrapped in a struct called <code>EvenOdd</code> such that we can overload all functions on that type. Our convention is to define the fields on the even sites. While we haven&#39;t tested whether the following is actually more performant, we map all even sites to the first half of the array to have contiguous memory accesses. The function <code>eo_site</code> does exactly this mapping.</p><p><code>Fermionfield</code>s are created in the same way as <code>Gaugefield</code>s with the gauge action type parameter being replaced by the number of Dirac indices. For <code>Fermionfield</code>s we have the <code>ones!</code> and <code>gaussian_pseudofermions!</code> methods to init them.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MetaQCD.Fields.Gaugefield" href="#MetaQCD.Fields.Gaugefield"><code>MetaQCD.Fields.Gaugefield</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Gaugefield{BACKEND,T,GA}(NX, NY, NZ, NT, β)
Gaugefield(U::Gaugefield)</code></pre><p>Creates a Gaugefield on <code>BACKEND</code>, i.e. an array of link-variables (SU3 matrices with <code>T</code> precision) of size <code>4 × NX × NY × NZ × NT</code> with coupling parameter <code>β</code> and gauge action <code>GA</code> or a zero-initialized copy of <code>U</code></p><p><strong>Supported backends</strong></p><p><code>CPU</code> <br/><code>CUDABackend</code> <br/><code>ROCBackend</code></p><p><strong>Supported gauge actions</strong></p><p><code>WilsonGaugeAction</code> <br/><code>SymanzikTreeGaugeAction</code> (Lüscher-Weisz) <br/><code>IwasakiGaugeAction</code> <br/><code>DBW2GaugeAction</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GianlucaFuwa/MetaQCD.jl/blob/f48b4322d47a31272a0c53a2c08401044ac53c3c/src/fields/gaugefields.jl#L1-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MetaQCD.Fields.Fermionfield" href="#MetaQCD.Fields.Fermionfield"><code>MetaQCD.Fields.Fermionfield</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Fermionfield{BACKEND,T,ND}(NX, NY, NZ, NT)
Fermionfield(ψ::Fermionfield)
Fermionfield(f::Abstractfield, staggered)</code></pre><p>Creates a Fermionfield on <code>BACKEND</code>, i.e. an array of link-variables (NC×ND complex vectors with <code>T</code> precision) of size <code>NX × NY × NZ × NT</code> or a zero-initialized copy of <code>ψ</code>. If <code>staggered=true</code>, the number of Dirac degrees of freedom (ND) is reduced to 1 instead of 4.</p><p><strong>Supported backends</strong></p><p><code>CPU</code> <br/><code>CUDABackend</code> <br/><code>ROCBackend</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GianlucaFuwa/MetaQCD.jl/blob/f48b4322d47a31272a0c53a2c08401044ac53c3c/src/fields/fermionfields.jl#L1-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MetaQCD.Fields.Colorfield" href="#MetaQCD.Fields.Colorfield"><code>MetaQCD.Fields.Colorfield</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Colorfield{BACKEND,T}(NX, NY, NZ, NT)
Colorfield(u::Abstractfield)</code></pre><p>Creates a Colorfield on <code>BACKEND</code>, i.e. an array of 3-by-3 <code>T</code>-precision matrices of size <code>4 × NX × NY × NZ × NT</code> or a zero-initialized Colorfield of the same size as <code>u</code></p><p><strong>Supported backends</strong></p><p><code>CPU</code> <br/><code>CUDABackend</code> <br/><code>ROCBackend</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GianlucaFuwa/MetaQCD.jl/blob/f48b4322d47a31272a0c53a2c08401044ac53c3c/src/fields/gaugefields.jl#L63-L73">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MetaQCD.Fields.Expfield" href="#MetaQCD.Fields.Expfield"><code>MetaQCD.Fields.Expfield</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Expfield{BACKEND,T}(NX, NY, NZ, NT)
Expfield(u::Abstractfield)</code></pre><p>Creates a Expfield on <code>BACKEND</code>, i.e. an array of <code>T</code>-precison <code>exp_iQ_su3</code> objects of size <code>4 × NX × NY × NZ × NT</code> or of the same size as <code>u</code>. The objects hold the <code>Q</code>-matrices and all the exponential parameters needed for stout-force recursion</p><p><strong>Supported backends</strong></p><p><code>CPU</code> <br/><code>CUDABackend</code> <br/><code>ROCBackend</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GianlucaFuwa/MetaQCD.jl/blob/f48b4322d47a31272a0c53a2c08401044ac53c3c/src/fields/gaugefields.jl#L94-L105">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../usage/">« Usage</a><a class="docs-footer-nextpage" href="../updates/">Updating a Gaugefield »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.3.0 on <span class="colophon-date" title="Sunday 21 July 2024 22:27">Sunday 21 July 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
